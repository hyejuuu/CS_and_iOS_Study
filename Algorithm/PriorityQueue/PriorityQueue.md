### 우선순위 큐

우선순위 큐란 말 그대로 우선순위를 가진 데이터들을 저장하는 큐를 의미합니다. 데이터를 꺼낼 때 우선 순위가 가장 높은 데이터가 가장 먼저 나온다는 특징이 있습니다.

일반적인 형태의 큐는 선형적인 형태를 가지고 있지만 우선순위 큐는 트리 구조로 보는 것이 합리적이기 때문에 일반적으로 우선순위 큐는 최대 힙을 이용해서 구현합니다. 



#### 최대 힙

최대 힙이란 부모 노드가 자식 노드보다 값이 큰 완전 이진 트리를 의미합니다.

<img width="597" alt="스크린샷 2020-06-18 오전 12 38 43" src="https://user-images.githubusercontent.com/34293225/84918890-2ce9fa00-b0fc-11ea-9e80-b69e88aa35b5.png">

힙을 저장하는 표준적인 자료구조는 배열이기 때문에 노드들의 관계가 아래와 같이 이루어집니다.

- 왼쪽 자식의 인덱스 = (부모의 인덱스 + 1) * 2
- 오른쪽 자식의 인덱스 = (부모의 인덱스 + 1) * 2 + 1
- 부모의 인덱스 = (자식의 인덱스 - 1) / 2

<img width="515" alt="스크린샷 2020-06-18 오전 1 03 22" src="https://user-images.githubusercontent.com/34293225/84923649-6de50d00-b102-11ea-99a4-ebf23241a1ff.png">

최대 힙은 루트 노드가 가장 큰 값을 가진다는 특징이 있습니다. 그렇기 때문에 항상 최대 힙의 구조를 유지할 수 있도록 자료구조를 구현해야합니다. 



**최대 힙의 push**

새로운 원소 9를 삽입한다고 했을 때 우선 가장 마지막 노드에 원소를 추가합니다. 즉 여기에서는 마지막 위치인 6번 인덱스에 들어가게 됩니다. 

<img width="400" alt="스크린샷 2020-06-18 오전 12 52 30" src="https://user-images.githubusercontent.com/34293225/84921020-e4800b80-b0fe-11ea-9e91-3e82b1696b7a.png">

삽입 이후에는 아래와 같이 상향식으로 올라가면서 최대 힙을 구성해줍니다.

<img width="666" alt="스크린샷 2020-06-18 오전 12 58 43" src="https://user-images.githubusercontent.com/34293225/84921027-e5b13880-b0fe-11ea-9fa9-54a718069bbb.png">



**최대 힙의 pop**

최대 힙에서 삭제 연산은 최댓값을 가진 요소를 삭제이기 때문에 최댓값은 루트 노드이므로 루트 노드를 삭제하면 됩니다.

삭제는 삽입과 반대로 아래와 같이 하향식으로 내려가면서 최대 힙을 구성해줍니다.

<img width="643" alt="스크린샷 2020-06-18 오전 1 21 45" src="https://user-images.githubusercontent.com/34293225/84923371-1777ce80-b102-11ea-855b-5f4d614ba13f.png">



이렇게 최대 힙을 사용하면 우선순위 큐를 쉽게 구현할 수 있습니다. 



